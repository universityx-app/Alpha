import { motion } from "framer-motion";
import React, { useState } from "react";
import CorrectBox from "./CorrectBox";

const Quiz: React.FC<{ onClick: () => void }> = ({ onClick }) => {
  const answer = "2";
  // "The value of the next best alternative forgone when a choice is made.";
  const [selectedAnswer, setSelectedAnswer] = useState("");
  const quizQuestion = {
    question: "In microeconomics, the concept of opportunity cost refers to?",
    answerOptions: [
      {
        id: "1",
        value: "The amount of money spent to produce a good or service.",
      },
      {
        id: "2",
        value:
          "The value of the next best alternative forgone when a choice is made.",
      },
      {
        id: "3",
        value: "The total revenue a firm earns from selling goods or services.",
      },
      {
        id: "4",
        value: "The additional cost incurred from producing one more unit.",
      },
    ],
  };
  const delta = 1;
  console.log("Answer", selectedAnswer, "anse", answer);
  return (
    <div className="space-y-5">
      <div className="flex items-center gap-2">
        <div className="w-[3rem] h-[3rem] rounded-full bg-[#9C2D9C] flex items-center justify-center">
          <svg
            width="24"
            height="25"
            viewBox="0 0 24 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22.2324 9.66133C21.8749 9.28859 21.5063 8.90367 21.3854 8.61219C21.2777 8.35219 21.2696 7.81695 21.2625 7.3457C21.2473 6.33008 21.228 5.06664 20.3302 4.16984C19.4323 3.27305 18.1699 3.25578 17.1543 3.2375C16.683 3.23039 16.1478 3.22227 15.8878 3.11461C15.5963 2.99375 15.2114 2.62508 14.8387 2.26758C14.1196 1.57797 13.2238 0.71875 12 0.71875C10.7762 0.71875 9.88039 1.57797 9.16133 2.26758C8.78859 2.62508 8.40367 2.99375 8.11219 3.11461C7.85219 3.22227 7.31695 3.23039 6.8457 3.2375C5.83008 3.25781 4.56664 3.27203 3.67188 4.17188C2.77711 5.07172 2.75781 6.33008 2.7375 7.3457C2.73039 7.81695 2.72227 8.35219 2.61461 8.61219C2.49375 8.90367 2.12508 9.28859 1.76758 9.66133C1.07797 10.3804 0.21875 11.2812 0.21875 12.5C0.21875 13.7188 1.07797 14.6196 1.76758 15.3438C2.12508 15.7165 2.49375 16.1014 2.61461 16.3929C2.72227 16.6529 2.73039 17.1881 2.7375 17.6594C2.75273 18.675 2.77203 19.9384 3.66984 20.8352C4.56766 21.732 5.83008 21.7493 6.8457 21.7676C7.31695 21.7747 7.85219 21.7828 8.11219 21.8905C8.40367 22.0113 8.78859 22.38 9.16133 22.7375C9.88039 23.422 10.7812 24.2812 12 24.2812C13.2188 24.2812 14.1196 23.422 14.8387 22.7324C15.2114 22.3749 15.5963 22.0063 15.8878 21.8854C16.1478 21.7777 16.683 21.7696 17.1543 21.7625C18.1699 21.7473 19.4334 21.728 20.3302 20.8302C21.227 19.9323 21.2442 18.6699 21.2625 17.6543C21.2696 17.183 21.2777 16.6478 21.3854 16.3878C21.5063 16.0963 21.8749 15.7114 22.2324 15.3387C22.922 14.6196 23.7812 13.7238 23.7812 12.5C23.7812 11.2762 22.922 10.3804 22.2324 9.66133ZM20.4734 13.6517C19.9838 14.1595 19.4293 14.7405 19.1338 15.4555C18.8473 16.1461 18.8362 16.8936 18.8291 17.6177C18.8209 18.1621 18.8098 18.9086 18.6107 19.1066C18.4116 19.3047 17.6662 19.3169 17.1218 19.325C16.3977 19.3362 15.6502 19.3473 14.9595 19.6297C14.2486 19.9252 13.6666 20.4798 13.1558 20.9693C12.7902 21.3197 12.2437 21.8438 12 21.8438C11.7563 21.8438 11.2098 21.3197 10.8483 20.9734C10.3405 20.4838 9.75953 19.9293 9.04453 19.6338C8.35391 19.3473 7.60641 19.3362 6.88227 19.3291C6.33789 19.3209 5.59141 19.3098 5.39336 19.1107C5.19531 18.9116 5.18313 18.1662 5.175 17.6218C5.16383 16.8977 5.15266 16.1502 4.87031 15.4595C4.57477 14.7486 4.02023 14.1666 3.5307 13.6558C3.18031 13.2902 2.65625 12.7437 2.65625 12.5C2.65625 12.2563 3.18031 11.7098 3.52664 11.3483C4.01617 10.8405 4.5707 10.2595 4.86625 9.54453C5.15266 8.85391 5.16383 8.10641 5.17094 7.38227C5.18313 6.83789 5.19531 6.09141 5.39844 5.89844C5.60156 5.70547 6.34297 5.6882 6.88734 5.68008C7.61148 5.66891 8.35898 5.65773 9.04961 5.37539C9.76055 5.07984 10.3425 4.52531 10.8534 4.03578C11.2098 3.68031 11.7563 3.15625 12 3.15625C12.2437 3.15625 12.7902 3.68031 13.1517 4.02664C13.6595 4.51617 14.2405 5.0707 14.9555 5.36625C15.6461 5.65266 16.3936 5.66383 17.1177 5.67094C17.6621 5.67906 18.4086 5.69023 18.6066 5.8893C18.8047 6.08836 18.8169 6.83383 18.825 7.3782C18.8362 8.10234 18.8473 8.84984 19.1297 9.54047C19.4252 10.2514 19.9798 10.8334 20.4693 11.3442C20.8156 11.7058 21.3397 12.2522 21.3397 12.4959C21.3397 12.7397 20.8197 13.2902 20.4734 13.6517ZM13.625 17.7812C13.625 18.1026 13.5297 18.4168 13.3511 18.6841C13.1726 18.9513 12.9188 19.1596 12.6219 19.2826C12.3249 19.4055 11.9982 19.4377 11.683 19.375C11.3678 19.3123 11.0782 19.1576 10.851 18.9303C10.6237 18.703 10.4689 18.4135 10.4062 18.0983C10.3435 17.7831 10.3757 17.4563 10.4987 17.1594C10.6217 16.8625 10.83 16.6087 11.0972 16.4301C11.3644 16.2516 11.6786 16.1562 12 16.1562C12.431 16.1562 12.8443 16.3275 13.149 16.6322C13.4538 16.9369 13.625 17.3503 13.625 17.7812ZM16.4688 10.4688C16.4688 12.3345 15.0784 13.9097 13.1913 14.385C13.1278 14.6793 12.9576 14.9397 12.7135 15.116C12.4694 15.2923 12.1686 15.372 11.8693 15.3397C11.5699 15.3074 11.2931 15.1654 11.0922 14.9411C10.8913 14.7168 10.7805 14.4261 10.7812 14.125V13.3125C10.7812 12.9893 10.9097 12.6793 11.1382 12.4507C11.3668 12.2222 11.6768 12.0938 12 12.0938C13.1172 12.0938 14.0312 11.3645 14.0312 10.4688C14.0312 9.57297 13.1172 8.84375 12 8.84375C10.8828 8.84375 9.96875 9.57297 9.96875 10.4688V10.875C9.96875 11.1982 9.84035 11.5082 9.61179 11.7368C9.38323 11.9653 9.07323 12.0938 8.75 12.0938C8.42677 12.0938 8.11677 11.9653 7.88821 11.7368C7.65965 11.5082 7.53125 11.1982 7.53125 10.875V10.4688C7.53125 8.22828 9.53609 6.40625 12 6.40625C14.4639 6.40625 16.4688 8.22828 16.4688 10.4688Z"
              fill="white"
            />
          </svg>
        </div>
        <span className="font-plus_jakarta font-semibold text-2xl text-[#9C2D9C]">
          Quiz
        </span>
      </div>
      <div
        style={{ boxShadow: "0px 1px 10.4px 0px #0000000F" }}
        className="w-full min-h-[30rem] rounded-[5px] border-2 border-[#6670858] py-5 px-10 space-y-8 bg-white"
      >
        <p className="font-plus_jakarta font-bold text-[2.5rem] leading-10  text-[#242222]">
          {quizQuestion.question}
        </p>

        <div className="space-y-5">
          {quizQuestion.answerOptions.map((option, index) => {
            const letter = String.fromCharCode(65 + index);

            return (
              <div
                key={option.id}
                onClick={() => setSelectedAnswer(option.id)}
                className={`${
                  selectedAnswer == answer && selectedAnswer == option.id
                    ? "bg-[#F0FDF4]"
                    : "bg-white"
                } flex items-center space-x-3 cursor-pointer w-full rounded-[14px] border-[3px] border-[#66708538] hover:border-[#30D258]  py-5 px-6`}
              >
                <div
                  className={`${
                    selectedAnswer == answer && selectedAnswer == option.id
                      ? "text-white bg-[#34C759]"
                      : "text-[#242222] bg-[#F6F6F6]"
                  } font-bold text-[2.5rem] w-[6rem] flex items-center justify-center rounded-[11px] p-2.5 `}
                >
                  {letter}
                </div>
                <div className="font-plus_jakarta text-[2rem] leading-10 text-[#242222]">
                  {option.value}
                </div>
              </div>
            );
          })}
        </div>
        {selectedAnswer === answer && (
          <motion.div
            initial={{ y: delta >= 0 ? "50%" : "-50%", opacity: 0 }}
            animate={{ y: 0, opacity: 1 }}
            transition={{ duration: 0.3, ease: "easeInOut" }}
          >
            <CorrectBox onClick={onClick} />
          </motion.div>
        )}
      </div>
    </div>
  );
};

export default Quiz;
